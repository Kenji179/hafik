!function(e,t){"object"==typeof exports?module.exports=t(require("spin.js")):"function"==typeof define&&define.amd?define(["spin"],t):e.Ladda=t(e.Spinner)}(this,function(e){"use strict";function n(e){if("undefined"==typeof e)return void console.warn("Ladda button target must be defined.");e.querySelector(".ladda-label")||(e.innerHTML='<span class="ladda-label">'+e.innerHTML+"</span>");var n,r=document.createElement("span");r.className="ladda-spinner",e.appendChild(r);var i,a={start:function(){return n||(n=s(e)),e.setAttribute("disabled",""),e.setAttribute("data-loading",""),clearTimeout(i),n.spin(r),this.setProgress(0),this},startAfter:function(e){return clearTimeout(i),i=setTimeout(function(){a.start()},e),this},stop:function(){return e.removeAttribute("disabled"),e.removeAttribute("data-loading"),clearTimeout(i),n&&(i=setTimeout(function(){n.stop()},1e3)),this},toggle:function(){return this.isLoading()?this.stop():this.start(),this},setProgress:function(t){t=Math.max(Math.min(t,1),0);var n=e.querySelector(".ladda-progress");0===t&&n&&n.parentNode?n.parentNode.removeChild(n):(n||(n=document.createElement("div"),n.className="ladda-progress",e.appendChild(n)),n.style.width=(t||0)*e.offsetWidth+"px")},enable:function(){return this.stop(),this},disable:function(){return this.stop(),e.setAttribute("disabled",""),this},isLoading:function(){return e.hasAttribute("data-loading")},remove:function(){clearTimeout(i),e.removeAttribute("disabled",""),e.removeAttribute("data-loading",""),n&&(n.stop(),n=null);for(var r=0,o=t.length;o>r;r++)if(a===t[r]){t.splice(r,1);break}}};return t.push(a),a}function r(e,t){for(;e.parentNode&&e.tagName!==t;)e=e.parentNode;return t===e.tagName?e:void 0}function i(e){for(var t=["input","textarea"],n=[],r=0;r<t.length;r++)for(var i=e.getElementsByTagName(t[r]),a=0;a<i.length;a++)i[a].hasAttribute("required")&&n.push(i[a]);return n}function a(e,t){t=t||{};var a=[];"string"==typeof e?a=l(document.querySelectorAll(e)):"object"==typeof e&&"string"==typeof e.nodeName&&(a=[e]);for(var o=0,s=a.length;s>o;o++)!function(){var e=a[o];if("function"==typeof e.addEventListener){var s=n(e),l=-1;e.addEventListener("click",function(n){var a=!0,o=r(e,"FORM");if("undefined"!=typeof o)for(var c=i(o),u=0;u<c.length;u++)""===c[u].value.replace(/^\s+|\s+$/g,"")&&(a=!1);a&&(s.startAfter(1),"number"==typeof t.timeout&&(clearTimeout(l),l=setTimeout(s.stop,t.timeout)),"function"==typeof t.callback&&t.callback.apply(null,[s]))},!1)}}()}function o(){for(var e=0,n=t.length;n>e;e++)t[e].stop()}function s(t){var r,n=t.offsetHeight;0===n&&(n=parseFloat(window.getComputedStyle(t).height)),n>32&&(n*=.8),t.hasAttribute("data-spinner-size")&&(n=parseInt(t.getAttribute("data-spinner-size"),10)),t.hasAttribute("data-spinner-color")&&(r=t.getAttribute("data-spinner-color"));var i=12,a=.2*n,o=.6*a,s=7>a?2:3;return new e({color:r||"#fff",lines:i,radius:a,length:o,width:s,zIndex:"auto",top:"auto",left:"auto",className:""})}function l(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t}var t=[];return{bind:a,create:n,stopAll:o}});